<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Calculadora da produção científica</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    <div class="container calculator">
      <div class="row">

        <div class="col-lg-10 col-12 mt-5">
          <h2><strong>Onde você está na escala da produção científica?</strong></h2>
        </div>

        <!-- filtro -->
        <div class="col-lg-10 col-12">
          <div class="mt-lg-5">
            <div class=" d-lg-flex">
              <h3 class="white mb-lg-3 mr-lg-5">Qual a área de pesquisa?</h3>
              <div class="">
                <div class="select">
                  <select class="select-area" name="area">
                    <option value="0">Selecione uma área</option>
                    <option value="0.077">Ciências biológicas</option>
                    <option value="0.077">Ciências da sáude</option>
                    <option value="0.023">Ciências exatas e da terra</option>
                    <option value="0.169">Ciências sociais aplicadas</option>
                    <option value="0.116">Engenharias</option>
                    <option value="0.116">Ciências Agrárias</option>
                    <option value="0.168">Ciências Humanas</option>
                    <option value="0.271">Linguística Letras e Artes</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-lg-10 col-12">
          <div class="">
            <label for="primeiro">Em quantas publicações científicas é a primeira autora?</label>
            <input type='text' class='margem ponto' id='primeiro' name='primeiro' value='0'>
          </div>
          <div class="">
            <label for="segundo">Em quantas publicações é segunda autora em diante?</label>
            <input type='text' class='margem ponto' id='segundo' name='segundo' value='0'>
          </div>
          <div class="">
            <label for="terceiro">Quantas premiações recebeu?</label>
            <input type='text' class='margem ponto' id='terceiro' name='terceiro' value='0'>
          </div>
          <div class="">
            <label for="quarto">Quantos eventos, congressos, exposições e feiras organizou?</label>
            <input type='text' class='margem ponto' id='quarto' name='quarto' value='0'>
          </div>
          <div class="">
            <label for="quinto">De quantos eventos, congressos, exposições e feiras participou?</label>
            <input type='text' class='margem ponto' id='quinto' name='quinto' value='0'>
          </div>
          <div class="btn calcular" id="calcular">Calcular</div>
        </div>

        <!-- legenda -->
        <div class="col-lg-10 col-12 mt-5 mb-1">
          <div class="border-legenda d-flex justify-content-between">
            <div class="text-legenda">Você já contribuiu</br>com a ciência!</div>
            <div class="text-legenda middle-position d-none d-md-block">Quanta produção realizada!</br>Isso é muito importante.</div>
            <div class="text-legenda right-position-desk d-none d-md-block">Pelo jeito você é candidata</br>a deixar um legado na sua</br>área de atuação!</div>
            <div class="text-legenda right-position d-md-none">Pelo jeito você é candidata</br>a deixar um legado na sua</br>área de atuação!</div>
          </div>
        </div>

        <div class="col-lg-10 col-12">
          <div class="slidecontainer">
            <div class="slider">
              <div id="calc" class="calc">
                <div id="position" class="position-calc">
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

    <script type="text/javascript">

        $(document).ready(function() {
          $("#calcular").click(function(){
            var total = 0;
            var final = 0;
            var primeiro = $("#primeiro").val();
            var segundo = $("#segundo").val();
            var terceiro = $("#terceiro").val();
            var quarto = $("#quarto").val();
            var quinto = $("#quinto").val();
            var argoritmo = [];

            $.each($(".select-area option:selected"), function(){
                argoritmo.push($(this).val());
            });

            $('.ponto').each(function(){
              var valor = Number($(this).val());
              if (!isNaN(valor)) total += valor;
            });

            total = ((( primeiro * '5') + ( segundo * '4') + ( terceiro * '2') + ( quarto * '2') + ( quinto * '1')) * argoritmo ) ;
            // final = total  - '3' ;


            $("#final").attr('value', total);

            if( total > '95' ) {
              $("#calc").css('width', '95%');
            } else if ( total <= '3' ) {
              final = total;
              $("#calc").css('width', final+'%');
            } else {
              final = total  - '3' ;
              $("#calc").css('width', final+'%');
            }
            console.log(final);
            console.log(primeiro * '5');
            console.log(segundo * '4');
            console.log(terceiro * '2');
            console.log(quarto * '2');
            console.log(quinto * '1');

            $("#position").css('opacity', '1');

          });
        });

    </script>

</body>
</html>
